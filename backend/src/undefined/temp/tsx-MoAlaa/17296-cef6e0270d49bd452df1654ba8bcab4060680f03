{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from===\"object\"||typeof from===\"function\"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toCommonJS=mod=>__copyProps(__defProp({},\"__esModule\",{value:true}),mod);var src_exports={};__export(src_exports,{handler:()=>handler});module.exports=__toCommonJS(src_exports);var import_handlers=require(\"./handlers/handlers\");const handler=__name(async event=>{const{httpMethod,path,pathParameters,queryStringParameters,headers,body}=event;try{if(path===\"/authenticate\"&&httpMethod===\"PUT\"){return await(0,import_handlers.handleAuthenticate)(body||\"{}\")}else if(path===\"/packages\"&&httpMethod===\"POST\"){return await(0,import_handlers.handleListPackages)(body||\"[]\",headers,queryStringParameters||{})}else if(path===\"/reset\"&&httpMethod===\"DELETE\"){return await(0,import_handlers.handleResetRegistry)(headers)}else if(path===\"/package/byRegEx\"&&httpMethod===\"POST\"){return await(0,import_handlers.handleSearchPackagesByRegEx)(body||\"{}\",headers)}else if(path&&path.startsWith(\"/package/byName/\")&&httpMethod===\"GET\"){const name=path.split(\"/\").pop()||\"\";return await(0,import_handlers.handleGetPackageHistoryByName)(name,headers)}else if(path===\"/package\"&&httpMethod===\"POST\"){return await(0,import_handlers.handleCreatePackage)(body||\"{}\",headers)}else if(path&&path.startsWith(\"/package/\")&&path.endsWith(\"/rate\")&&httpMethod===\"GET\"){const id=path.split(\"/\")[2];return await(0,import_handlers.handleGetPackageRating)(id,headers)}else if(path&&path.startsWith(\"/package/\")&&path.endsWith(\"/cost\")&&httpMethod===\"GET\"){const id=path.split(\"/\")[2];return await(0,import_handlers.handleGetPackageCost)(id,headers,queryStringParameters||{})}else if(path&&path.startsWith(\"/package/\")&&httpMethod===\"GET\"){const id=path.split(\"/\")[2];return await(0,import_handlers.handleRetrievePackage)(id,headers)}else if(path&&path.startsWith(\"/package/\")&&httpMethod===\"PUT\"){const id=path.split(\"/\")[2];return await(0,import_handlers.handleUpdatePackage)(id,body||\"{}\",headers)}else if(path&&path.startsWith(\"/package/\")&&httpMethod===\"DELETE\"){const id=path.split(\"/\")[2];return await(0,import_handlers.handleDeletePackage)(id,headers)}else if(path===\"/tracks\"&&httpMethod===\"GET\"){return await(0,import_handlers.handleGetTracks)(headers)}return{statusCode:404,body:JSON.stringify({message:\"Endpoint not found.\"}),headers:{\"Content-Type\":\"application/json\"}}}catch(error){console.error(\"Lambda Handler Error:\",error);if(error.statusCode&&error.message){return{statusCode:error.statusCode,body:JSON.stringify({message:error.message}),headers:{\"Content-Type\":\"application/json\"}}}return{statusCode:500,body:JSON.stringify({message:\"Internal server error.\"}),headers:{\"Content-Type\":\"application/json\"}}}},\"handler\");0&&(module.exports={handler});\n})()\n","warnings":[],"map":{"version":3,"mappings":";mvBAAA,wGAGA,oBAaO,+BAEA,MAAM,QAAU,aAAO,OAAgE,CAC5F,KAAM,CAAE,WAAY,KAAM,eAAgB,sBAAuB,QAAS,IAAK,EAAI,MAEnF,GAAI,CAEF,GAAI,OAAS,iBAAmB,aAAe,MAAO,CACpD,OAAO,QAAM,oCAAmB,MAAQ,IAAI,CAC9C,SAAW,OAAS,aAAe,aAAe,OAAQ,CACxD,OAAO,QAAM,oCAAmB,MAAQ,KAAM,QAAS,uBAAyB,CAAC,CAAC,CACpF,SAAW,OAAS,UAAY,aAAe,SAAU,CACvD,OAAO,QAAM,qCAAoB,OAAO,CAC1C,SAAW,OAAS,oBAAsB,aAAe,OAAQ,CAC/D,OAAO,QAAM,6CAA4B,MAAQ,KAAM,OAAO,CAChE,SAAW,MAAQ,KAAK,WAAW,kBAAkB,GAAK,aAAe,MAAO,CAC9E,MAAM,KAAO,KAAK,MAAM,GAAG,EAAE,IAAI,GAAK,GACtC,OAAO,QAAM,+CAA8B,KAAM,OAAO,CAC1D,SAAW,OAAS,YAAc,aAAe,OAAQ,CACvD,OAAO,QAAM,qCAAoB,MAAQ,KAAM,OAAO,CACxD,SAAW,MAAQ,KAAK,WAAW,WAAW,GAAK,KAAK,SAAS,OAAO,GAAK,aAAe,MAAO,CACjG,MAAM,GAAK,KAAK,MAAM,GAAG,EAAE,CAAC,EAC5B,OAAO,QAAM,wCAAuB,GAAI,OAAO,CACjD,SAAW,MAAQ,KAAK,WAAW,WAAW,GAAK,KAAK,SAAS,OAAO,GAAK,aAAe,MAAO,CACjG,MAAM,GAAK,KAAK,MAAM,GAAG,EAAE,CAAC,EAC5B,OAAO,QAAM,sCAAqB,GAAI,QAAS,uBAAyB,CAAC,CAAC,CAC5E,SAAW,MAAQ,KAAK,WAAW,WAAW,GAAK,aAAe,MAAO,CACvE,MAAM,GAAK,KAAK,MAAM,GAAG,EAAE,CAAC,EAC5B,OAAO,QAAM,uCAAsB,GAAI,OAAO,CAChD,SAAW,MAAQ,KAAK,WAAW,WAAW,GAAK,aAAe,MAAO,CACvE,MAAM,GAAK,KAAK,MAAM,GAAG,EAAE,CAAC,EAC5B,OAAO,QAAM,qCAAoB,GAAI,MAAQ,KAAM,OAAO,CAC5D,SAAW,MAAQ,KAAK,WAAW,WAAW,GAAK,aAAe,SAAU,CAC1E,MAAM,GAAK,KAAK,MAAM,GAAG,EAAE,CAAC,EAC5B,OAAO,QAAM,qCAAoB,GAAI,OAAO,CAC9C,SAAW,OAAS,WAAa,aAAe,MAAO,CACrD,OAAO,QAAM,iCAAgB,OAAO,CACtC,CAGA,MAAO,CACL,WAAY,IACZ,KAAM,KAAK,UAAU,CAAE,QAAS,qBAAsB,CAAC,EACvD,QAAS,CACP,eAAgB,kBAClB,CACF,CACF,OAAS,MAAY,CACnB,QAAQ,MAAM,wBAAyB,KAAK,EAC5C,GAAI,MAAM,YAAc,MAAM,QAAS,CACrC,MAAO,CACL,WAAY,MAAM,WAClB,KAAM,KAAK,UAAU,CAAE,QAAS,MAAM,OAAQ,CAAC,EAC/C,QAAS,CACP,eAAgB,kBAClB,CACF,CACF,CACA,MAAO,CACL,WAAY,IACZ,KAAM,KAAK,UAAU,CAAE,QAAS,wBAAyB,CAAC,EAC1D,QAAS,CACP,eAAgB,kBAClB,CACF,CACF,CACF,EAhEuB","names":[],"ignoreList":[],"sources":["D:\\Purdue\\s1\\46100\\local\\ECE461-group32\\backend\\src\\index.ts"],"sourcesContent":[null]}}